
# Онлайн буфер-обмена

Это простое веб-приложение на Flask, которое позволяет пользователям создавать и извлекать текстовые фрагменты с помощью уникальных кодов. Записи автоматически удаляются через 15 минут после создания, а для уведомлений пользователей используется WebSocket.

## Возможности

- **Создание фрагмента:** Пользователь может создать новый фрагмент текста, предоставив текст. Для каждого фрагмента генерируется уникальный 4-значный код.
- **Извлечение фрагмента:** Пользователь может извлечь фрагмент, указав уникальный код.
- **Уведомления в реальном времени:** Используются WebSocket уведомления для информирования пользователей о создании нового фрагмента или когда база данных очищена.
- **Автоматическая очистка:** Фрагменты старше 15 минут автоматически удаляются, чтобы поддерживать чистоту базы данных.
- **Очистка всех фрагментов:** Возможность удалить все фрагменты сразу.

## Требования

- Python 3.x
- Flask
- Flask-SQLAlchemy
- Flask-SocketIO
- qrcode (для генерации QR-кодов, хотя в коде он не используется, но доступен для использования, если понадобится)

## Установка

### Шаг 1: Клонируйте репозиторий

```bash
git clone https://github.com/your-username/clipboard-sharing-service.git
cd clipboard-sharing-service
```

### Шаг 2: Установите зависимости

Рекомендуется использовать виртуальное окружение:

```bash
python -m venv venv
source venv/bin/activate  # На Windows используйте `.\venv\Scripts\activate.ps1`
```

Затем установите все необходимые зависимости:

```bash
pip install -r requirements.txt
```

### Шаг 3: Настройка базы данных

Приложение по умолчанию использует SQLite. База данных `clipboard.db` будет автоматически создана при первом запуске приложения.

```bash
python
from app import db
db.create_all()
exit()
```

### Шаг 4: Запуск приложения

Запустите Flask приложение:

```bash
python app.py
```

Приложение будет доступно по адресу `http://localhost:5005`.

## API Эндпоинты

### 1. `GET /` - Главная страница

Отображает основной интерфейс приложения.

### 2. `POST /create` - Создание нового фрагмента

Создает новый фрагмент текста и возвращает уникальный 4-значный код.

**Запрос:**
```json
{
  "text": "Ваш текст здесь"
}
```

**Ответ:**
```json
{
  "code": "1234"
}
```

### 3. `GET /get/<code>` - Получить фрагмент по коду

Извлекает текстовый фрагмент, связанный с указанным 4-значным кодом.

**Запрос:**
```bash
GET /get/1234
```

**Ответ:**
```json
{
  "text": "Ваш текст здесь"
}
```

### 4. `POST /delete` - Удалить все фрагменты

Удаляет все фрагменты в базе данных.

**Ответ:**
```json
{
  "message": "Все записи удалены"
}
```

### 5. `GET /stats` - Статистика по фрагментам

Возвращает текущее количество фрагментов в базе данных.

**Ответ:**
```json
{
  "count": 5
}
```

## События WebSocket в реальном времени

### 1. `new_text`

Отправляется, когда создается новый фрагмент.

**Данные:**
```json
{
  "code": "1234",
  "text": "Ваш текст здесь"
}
```

### 2. `clear_texts`

Отправляется, когда все фрагменты удалены.

**Данные:**
```json
{}
```

## Лицензия

Этот проект распространяется под лицензией MIT — подробности см. в файле [LICENSE](LICENSE).

---
### Онлайн буфер-обмена от команды CopyPast!
